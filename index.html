<!DOCTYPE html>
<html>
<head>
  <title>crystals Collector</title>
  <link rel="stylesheet" type="text/css" href="assets/css/style.css">
  <link rel="stylesheet" type="text/css" href="assets/css/reset.css">
</head>

<body>

  <h1 style="text-align: center; font-size: 40px;">Crystals Collector!</h1>

  <div class="instructions">
  <p>You will be given a random number at the start of the game.</p>
  <p>There are four crystals below. By clicking on a crystal you will add a specific amount of points to your total score.</p>
  <p>You win by game by matching your total score to the random number given. You lose the game if your total score goes above the random number.</p>
  <p>The value of each crystal is hidden from you until you click on it.</p>
  <p>Each time when the game starts, the game will change the values of each crystal.</p>
  </div>
  

  <div class="tally" style="font-size: 22px; font-weight: bold">Wins: <span id="wins"></span></div>

  <div class="tally" style="font-size: 22px; font-weight: bold">Losses: <span id="losses"></span></div>
  <div class="random-number"><span id="number-to-guess"></span></div>

  <div id="crystals"></div>

  <br><br>

  <div class="score-board" style="font-size: 22px; font-weight: bold">Your total score: <span id="score"></span></div>

  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <script type="text/javascript">

  var targetNumber="";

  function renderTargetNumber() {
    targetNumber = "";
    targetNumber = Math.floor(Math.random()*101)+19;
    $("#number-to-guess").text(targetNumber);
  };
  renderTargetNumber();

  var numberOptions = [1,2,3,4,5,6,7,8,9,10,11,12];
  var wins= 0;
  var losses = 0;
  var score=0;

  var imageCrystal1 = $("<img>");
  var imageCrystal2 = $("<img>");
  var imageCrystal3 = $("<img>");
  var imageCrystal4 = $("<img>");

  function renderCrystalValue() {
    crystalValue="";
    crystalValue = Math.ceil(Math.random()*12);
  };

  function newCrystalValue() {
    renderCrystalValue();
    imageCrystal1.attr("data-crystalValue", crystalValue);
    renderCrystalValue();
    imageCrystal2.attr("data-crystalValue", crystalValue);
    renderCrystalValue();
    imageCrystal3.attr("data-crystalValue", crystalValue);
    renderCrystalValue();
    imageCrystal4.attr("data-crystalValue", crystalValue);
  }

  function valueCrystals() {
      imageCrystal1 = $("<img>");
      imageCrystal1.addClass("crystal-image");
      imageCrystal1.attr("src", "https://media.gettyimages.com/photos/crystal-and-metal-picture-id94922745?s=2048x2048");
      renderCrystalValue();
      imageCrystal1.attr("data-crystalValue", crystalValue);
    $("#crystals").append(imageCrystal1);

      imageCrystal2 = $("<img>");
      imageCrystal2.addClass("crystal-image");
      imageCrystal2.attr("src", "https://media.gettyimages.com/photos/amethyst-crystals-picture-id184119870?s=2048x2048");
      renderCrystalValue();
      imageCrystal2.attr("data-crystalValue", crystalValue);
    $("#crystals").append(imageCrystal2);

      imageCrystal3 = $("<img>");
      imageCrystal3.addClass("crystal-image");
      imageCrystal3.attr("src", "https://glyphwork.files.wordpress.com/2013/12/quartz1.jpg");
      renderCrystalValue();
      imageCrystal3.attr("data-crystalValue", crystalValue);
    $("#crystals").append(imageCrystal3);

      imageCrystal4 = $("<img>");
      imageCrystal4.addClass("crystal-image");
      imageCrystal4.attr("src", "https://www.thoughtco.com/thmb/JVS3w-aBpRK3zdCdnFe9n81sCa0=/768x0/filters:no_upscale():max_bytes(150000):strip_icc():format(webp)/close-up-of-quartz-crystals-with-pink-sault-651473419-5ac7e32b30371300378c15d7.jpg");
      renderCrystalValue();
      imageCrystal4.attr("data-crystalValue", crystalValue);
    $("#crystals").append(imageCrystal4);
  };
  valueCrystals();

  $(".crystal-image").on("click", function() {

    var crystalValue = ($(this).attr("data-crystalValue"));

    crystalValue = parseInt(crystalValue);

    score += crystalValue;

    if (score === targetNumber) {
      wins++;
      $("#wins").empty();
      $("#wins").append(wins);
      renderTargetNumber();
      score=0;
      newCrystalValue();
    }

    else if (score >= targetNumber) {
      losses++;
      $("#losses").empty();
      $("#losses").append(losses);
      renderTargetNumber();
      score=0;
      newCrystalValue();
    }

    $("#score").empty();
    $("#score").append(score);
  });

  </script>
</body>
</html>
